(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bc0907a"],{"159b":function(t,e,c){var r=c("da84"),n=c("fdbc"),o=c("17c2"),a=c("9112");for(var i in n){var s=r[i],d=s&&s.prototype;if(d&&d.forEach!==o)try{a(d,"forEach",o)}catch(u){d.forEach=o}}},"17c2":function(t,e,c){"use strict";var r=c("b727").forEach,n=c("a640"),o=n("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,c){var r=c("d039"),n=c("b622"),o=c("2d00"),a=n("species");t.exports=function(t){return o>=51||!r((function(){var e=[],c=e.constructor={};return c[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"395d":function(t,e,c){"use strict";c.r(e);var r=c("7a23"),n=Object(r["withScopeId"])("data-v-46bf350d");Object(r["pushScopeId"])("data-v-46bf350d");var o=Object(r["createVNode"])("div",{class:"banner"},null,-1),a={class:"container"},i={key:0,class:"text-center py-5"},s=Object(r["createVNode"])("p",{class:"h2 mb-5"},"購物車尚無品項，趕緊去選購吧！",-1),d=Object(r["createVNode"])("i",{class:"bi bi-arrow-left me-2"},null,-1),u=Object(r["createTextVNode"])("繼續選購 "),l={key:1,class:"row justify-content-center mt-5"},b={class:"col-md-10 col-lg-8 col-xl-6"},f=Object(r["createVNode"])("h1",{class:"text-center"},"購物車",-1),p={class:"text-end"},h={class:"table align-middle mb-4"},v=Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th"),Object(r["createVNode"])("th",null,"品名"),Object(r["createVNode"])("th",{style:{width:"150px"}},"數量/單位"),Object(r["createVNode"])("th",null,"金額")])],-1),g=Object(r["createVNode"])("i",{class:"bi bi-trash"},null,-1),j={class:"input-group input-group-sm"},O={class:"input-group"},m={class:"input-group-text",id:"basic-addon2"},y={class:"text-end"},x=Object(r["createVNode"])("td",{colspan:"3",class:"text-end"},"總計",-1),N={class:"text-end"},V={class:"row mb-5"},k={class:"col-6"},C=Object(r["createVNode"])("i",{class:"bi bi-arrow-left me-2"},null,-1),w=Object(r["createTextVNode"])("繼續選購 "),S={class:"col-6"},B=Object(r["createVNode"])("span",{class:"me-2"},"前往結帳",-1),E=Object(r["createVNode"])("i",{class:"bi bi-arrow-right"},null,-1),I={class:"bg-light py-3"},$={class:"container"},D={class:"row justify-content-between"},L=Object(r["createVNode"])("div",{class:"col-12"},[Object(r["createVNode"])("h2",{class:"mb-3 "},"推薦商品")],-1),_={key:0,class:"bg-danger text-white d-inline-block px-2 py-1"},A={class:"card-body d-flex flex-column justify-content-center"},z={class:"card-title h5"},M={key:0,class:"h5 text-center py-1"},R={key:0,class:"h6 text-decoration-line-through"},P={key:1,class:"h4 text-danger fw-bold"},F={key:2,class:"h4 fw-bold"},T=Object(r["createTextVNode"])(" 元 "),q={class:"btn-group btn-group-sm"};Object(r["popScopeId"])();var U=n((function(t,e,c,n,U,Q){var J=Object(r["resolveComponent"])("Loading");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[o,Object(r["createVNode"])("div",a,[U.hasCartsItems?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",i,[s,Object(r["createVNode"])("button",{type:"button",class:"btn btn-outline-primary",onClick:e[1]||(e[1]=function(e){return t.$router.push("/products/all")})},[d,u])])),U.cart.carts.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",l,[Object(r["createVNode"])("div",b,[f,Object(r["createVNode"])("div",p,[Object(r["createVNode"])("button",{class:"btn btn-outline-danger",type:"button",disabled:!U.hasCartsItems,onClick:e[2]||(e[2]=function(){return Q.deleteAllCarts&&Q.deleteAllCarts.apply(Q,arguments)})}," 清空購物車 ",8,["disabled"])]),Object(r["createVNode"])("table",h,[v,Object(r["createVNode"])("tbody",null,[U.cart.carts?(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],{key:0},Object(r["renderList"])(U.cart.carts,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:e.id},[Object(r["createVNode"])("td",null,[Object(r["createVNode"])("button",{type:"button",title:"刪除",class:"btn btn-outline-danger btn-sm",onClick:function(t){return Q.removeCartItem(e.id)},disabled:U.loadingStatus.loadingItem===e.id},[g],8,["onClick","disabled"])]),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.product.title),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])("div",j,[Object(r["createVNode"])("div",O,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:"form-control text-center",type:"number",min:"1","onUpdate:modelValue":function(t){return e.qty=t},onBlur:function(t){return Q.updateCart(e)},disabled:U.loadingStatus.loadingItem===e.id},null,40,["onUpdate:modelValue","onBlur","disabled"]),[[r["vModelText"],e.qty,void 0,{number:!0}]]),Object(r["createVNode"])("span",m,Object(r["toDisplayString"])(e.product.unit),1)])])]),Object(r["createVNode"])("td",y,Object(r["toDisplayString"])(t.$filters.currency(e.total)),1)])})),128)):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])("tfoot",null,[Object(r["createVNode"])("tr",null,[x,Object(r["createVNode"])("td",N,Object(r["toDisplayString"])(t.$filters.currency(U.cart.total)),1)])])]),Object(r["createVNode"])("div",V,[Object(r["createVNode"])("div",k,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-block",onClick:e[3]||(e[3]=function(e){return t.$router.push("/products/all")})},[C,w])]),Object(r["createVNode"])("div",S,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-primary btn-block",onClick:e[4]||(e[4]=function(e){return t.$router.push("/order")})},[B,E])])])])])):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])("div",I,[Object(r["createVNode"])("div",$,[Object(r["createVNode"])("div",D,[L,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(U.randomProducts,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"col-md-6 col-xl-3 mb-4",key:e.id},[Object(r["createVNode"])("div",{class:"card",onClick:function(c){return t.$router.push("/product/".concat(e.id))}},[Object(r["createVNode"])("div",{class:"card__img position-relative border-bottom border-1 border-muted",style:{backgroundImage:"url('".concat(e.imageUrl,"')")}},[e.options.sell_status?(Object(r["openBlock"])(),Object(r["createBlock"])("span",_,Object(r["toDisplayString"])(e.options.sell_status),1)):Object(r["createCommentVNode"])("",!0)],4),Object(r["createVNode"])("div",A,[Object(r["createVNode"])("h2",z,Object(r["toDisplayString"])(e.title),1),e.price?(Object(r["openBlock"])(),Object(r["createBlock"])("div",M,[e.price!=e.origin_price?(Object(r["openBlock"])(),Object(r["createBlock"])("span",R," $"+Object(r["toDisplayString"])(t.$filters.currency(e.origin_price)),1)):Object(r["createCommentVNode"])("",!0),e.price!=e.origin_price?(Object(r["openBlock"])(),Object(r["createBlock"])("span",P," $"+Object(r["toDisplayString"])(t.$filters.currency(e.price)),1)):Object(r["createCommentVNode"])("",!0),e.price==e.origin_price?(Object(r["openBlock"])(),Object(r["createBlock"])("span",F," $"+Object(r["toDisplayString"])(t.$filters.currency(e.price)),1)):Object(r["createCommentVNode"])("",!0),T])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",q,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-secondary",onClick:Object(r["withModifiers"])((function(t){return Q.addCart(e.id,1)}),["stop"]),disabled:U.loadingStatus.loadingItem===e.id||!e.is_enabled}," 加到購物車 ",8,["onClick","disabled"])])])],8,["onClick"])])})),128))])])]),Object(r["createVNode"])(J,{active:U.isLoading},null,8,["active"])],64)})),Q=(c("99af"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("159b"),c("37ca"));function J(t){return Math.floor(Math.random()*t)}var K={data:function(){return{cart:{total:0,final_total:0,carts:[]},hasCartsItems:!1,loadingStatus:{loadingItem:""},isLoading:!1,products:[],randomProducts:[]}},methods:{getCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart");this.$http.get(e).then((function(e){t.isLoading=!1,e.data.success?t.cart=e.data.data:t.$httpMessageState(e,e.data.message)})).catch((function(t){console.dir(t)}))},updateCart:function(t){var e=this;this.isLoading=!0,this.loadingStatus.loadingItem=t.id;var c={product_id:t.product_id,qty:t.qty},r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart/").concat(t.id);this.$http.put(r,{data:c}).then((function(t){e.isLoading=!1,e.loadingStatus.loadingItem="",e.$httpMessageState(t,t.data.message),t.data.success&&e.getCart()})).catch((function(t){console.dir(t)}))},removeCartItem:function(t){var e=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart/").concat(t);this.$http.delete(c).then((function(t){e.isLoading=!1,e.$httpMessageState(t,t.data.message),t.data.success&&(e.getCart(),Q["a"].emit("update-cartNum"))})).catch((function(t){console.dir(t)}))},deleteAllCarts:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/carts");this.$http.delete(e).then((function(e){t.isLoading=!1,t.$httpMessageState(e,e.data.message),e.data.success&&(t.getCart(),Q["a"].emit("update-cartNum"))})).catch((function(t){console.dir(t)}))},getProductsAll:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/products/all");this.$http.get(e).then((function(e){t.isLoading=!1,e.data.success?(t.products=e.data.products,t.getRandomProducts()):t.$httpMessageState(e,e.data.message)})).catch((function(t){console.dir(t)}))},getRandomProducts:function(){for(var t=this,e=new Set([]),c=this.products.length<4?this.products.length:4,r=0;e.size<c;r+1){var n=J(this.products.length);e.add(n)}this.randomProducts=[],e.forEach((function(e){t.randomProducts.push(t.products[e])}))},addCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var r={product_id:t,qty:c},n="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart");this.$http.post(n,{data:r}).then((function(t){e.isLoading=!1,e.$httpMessageState(t,t.data.message),t.data.success&&(e.qty=1,Q["a"].emit("update-cartNum"),e.getCart())})).catch((function(t){console.dir(t)}))}},watch:{cart:function(){this.hasCartsItems=!!this.cart.carts.length}},created:function(){this.getCart(),this.getProductsAll()}};c("9596");K.render=U,K.__scopeId="data-v-46bf350d";e["default"]=K},6062:function(t,e,c){"use strict";var r=c("6d61"),n=c("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},6566:function(t,e,c){"use strict";var r=c("9bf2").f,n=c("7c73"),o=c("e2cc"),a=c("0366"),i=c("19aa"),s=c("2266"),d=c("7dd0"),u=c("2626"),l=c("83ab"),b=c("f183").fastKey,f=c("69f3"),p=f.set,h=f.getterFor;t.exports={getConstructor:function(t,e,c,d){var u=t((function(t,r){i(t,u,e),p(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=r&&s(r,t[d],{that:t,AS_ENTRIES:c})})),f=h(e),v=function(t,e,c){var r,n,o=f(t),a=g(t,e);return a?a.value=c:(o.last=a={index:n=b(e,!0),key:e,value:c,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),l?o.size++:t.size++,"F"!==n&&(o.index[n]=a)),t},g=function(t,e){var c,r=f(t),n=b(e);if("F"!==n)return r.index[n];for(c=r.first;c;c=c.next)if(c.key==e)return c};return o(u.prototype,{clear:function(){var t=this,e=f(t),c=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete c[r.index],r=r.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,c=f(e),r=g(e,t);if(r){var n=r.next,o=r.previous;delete c.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),c.first==r&&(c.first=n),c.last==r&&(c.last=o),l?c.size--:e.size--}return!!r},forEach:function(t){var e,c=f(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:c.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),o(u.prototype,c?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),l&&r(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(t,e,c){var r=e+" Iterator",n=h(e),o=h(r);d(t,e,(function(t,e){p(this,{type:r,target:t,state:n(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,c=t.last;while(c&&c.removed)c=c.previous;return t.target&&(t.last=c=c?c.next:t.state.first)?"keys"==e?{value:c.key,done:!1}:"values"==e?{value:c.value,done:!1}:{value:[c.key,c.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),c?"entries":"values",!c,!0),u(e)}}},"65f0":function(t,e,c){var r=c("861d"),n=c("e8b5"),o=c("b622"),a=o("species");t.exports=function(t,e){var c;return n(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!n(c.prototype)?r(c)&&(c=c[a],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},"6d61":function(t,e,c){"use strict";var r=c("23e7"),n=c("da84"),o=c("94ca"),a=c("6eeb"),i=c("f183"),s=c("2266"),d=c("19aa"),u=c("861d"),l=c("d039"),b=c("1c7e"),f=c("d44e"),p=c("7156");t.exports=function(t,e,c){var h=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),g=h?"set":"add",j=n[t],O=j&&j.prototype,m=j,y={},x=function(t){var e=O[t];a(O,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:function(t,c){return e.call(this,0===t?0:t,c),this})},N=o(t,"function"!=typeof j||!(v||O.forEach&&!l((function(){(new j).entries().next()}))));if(N)m=c.getConstructor(e,t,h,g),i.REQUIRED=!0;else if(o(t,!0)){var V=new m,k=V[g](v?{}:-0,1)!=V,C=l((function(){V.has(1)})),w=b((function(t){new j(t)})),S=!v&&l((function(){var t=new j,e=5;while(e--)t[g](e,e);return!t.has(-0)}));w||(m=e((function(e,c){d(e,m,t);var r=p(new j,e,m);return void 0!=c&&s(c,r[g],{that:r,AS_ENTRIES:h}),r})),m.prototype=O,O.constructor=m),(C||S)&&(x("delete"),x("has"),h&&x("get")),(S||k)&&x(g),v&&O.clear&&delete O.clear}return y[t]=m,r({global:!0,forced:m!=j},y),f(m,t),v||c.setStrong(m,t,h),m}},7156:function(t,e,c){var r=c("861d"),n=c("d2bb");t.exports=function(t,e,c){var o,a;return n&&"function"==typeof(o=e.constructor)&&o!==c&&r(a=o.prototype)&&a!==c.prototype&&n(t,a),t}},8418:function(t,e,c){"use strict";var r=c("c04e"),n=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var a=r(e);a in t?n.f(t,a,o(0,c)):t[a]=c}},9596:function(t,e,c){"use strict";c("c528")},"99af":function(t,e,c){"use strict";var r=c("23e7"),n=c("d039"),o=c("e8b5"),a=c("861d"),i=c("7b0b"),s=c("50c4"),d=c("8418"),u=c("65f0"),l=c("1dde"),b=c("b622"),f=c("2d00"),p=b("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),j=l("concat"),O=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},m=!g||!j;r({target:"Array",proto:!0,forced:m},{concat:function(t){var e,c,r,n,o,a=i(this),l=u(a,0),b=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],O(o)){if(n=s(o.length),b+n>h)throw TypeError(v);for(c=0;c<n;c++,b++)c in o&&d(l,b,o[c])}else{if(b>=h)throw TypeError(v);d(l,b++,o)}return l.length=b,l}})},b727:function(t,e,c){var r=c("0366"),n=c("44ad"),o=c("7b0b"),a=c("50c4"),i=c("65f0"),s=[].push,d=function(t){var e=1==t,c=2==t,d=3==t,u=4==t,l=6==t,b=7==t,f=5==t||l;return function(p,h,v,g){for(var j,O,m=o(p),y=n(m),x=r(h,v,3),N=a(y.length),V=0,k=g||i,C=e?k(p,N):c||b?k(p,0):void 0;N>V;V++)if((f||V in y)&&(j=y[V],O=x(j,V,m),t))if(e)C[V]=O;else if(O)switch(t){case 3:return!0;case 5:return j;case 6:return V;case 2:s.call(C,j)}else switch(t){case 4:return!1;case 7:s.call(C,j)}return l?-1:d||u?u:C}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},bb2f:function(t,e,c){var r=c("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c528:function(t,e,c){},e8b5:function(t,e,c){var r=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f183:function(t,e,c){var r=c("d012"),n=c("861d"),o=c("5135"),a=c("9bf2").f,i=c("90e3"),s=c("bb2f"),d=i("meta"),u=0,l=Object.isExtensible||function(){return!0},b=function(t){a(t,d,{value:{objectID:"O"+ ++u,weakData:{}}})},f=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,d)){if(!l(t))return"F";if(!e)return"E";b(t)}return t[d].objectID},p=function(t,e){if(!o(t,d)){if(!l(t))return!0;if(!e)return!1;b(t)}return t[d].weakData},h=function(t){return s&&v.REQUIRED&&l(t)&&!o(t,d)&&b(t),t},v=t.exports={REQUIRED:!1,fastKey:f,getWeakData:p,onFreeze:h};r[d]=!0}}]);
//# sourceMappingURL=chunk-4bc0907a.3bdfdd32.js.map