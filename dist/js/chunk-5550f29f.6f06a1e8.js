(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5550f29f"],{4462:function(e,t,c){},bf9b:function(e,t,c){"use strict";c("4462")},d2f1:function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var o=c("7a23"),r=Object(o["withScopeId"])("data-v-1e8fe802");Object(o["pushScopeId"])("data-v-1e8fe802");var a={class:"container"},s={class:"d-flex justify-content-between align-items-center my-3 h6"},i={"aria-label":"breadcrumb",style:{"--bs-breadcrumb-divider":"'>'"}},n={class:"breadcrumb mb-0"},d={class:"breadcrumb-item"},l=Object(o["createTextVNode"])("首頁"),b={class:"breadcrumb-item"},u=Object(o["createTextVNode"])("產品"),p={class:"breadcrumb-item"},j={class:"breadcrumb-item active","aria-current":"page"},O=Object(o["createVNode"])("hr",{class:"my-4"},null,-1),g={class:"row"},h={class:"col-md-6 mb-4"},m={class:"col-md-6 product__content mb-4"},N={class:""},V={class:"mb-4"},f={class:"badge bg-secondary rounded-pill me-2"},y={key:0,class:"badge bg-danger rounded-pill"},v={class:"h5 mb-3"},k=Object(o["createTextVNode"])(" 產品型號："),_={class:"text-muted"},x={key:0,class:"mb-3"},S=Object(o["createVNode"])("h2",{class:"h5"},"建議售價",-1),B={class:"h2 ps-3"},w={key:1,class:"mb-3"},C=Object(o["createVNode"])("h2",{class:"h5"},"建議售價",-1),D={class:"h2 text-decoration-line-through ps-3"},$={key:2,class:"mb-4"},P=Object(o["createVNode"])("h2",{class:"h5"},"限時特價",-1),L={class:"h1 me-2 text-danger fw-bold ps-3"},T=Object(o["createVNode"])("span",{class:"h2"},"元",-1),I={class:"input-group"},M={class:"row"},q={class:"col product__description"},U=Object(o["createVNode"])("h2",{class:"h3 border-start border-3 border-secondary ps-2 mb-2"},"商品描述",-1),A={class:"mb-4"},F=Object(o["createVNode"])("h2",{class:"h3 border-start border-3 border-secondary ps-2 mb-2"},"商品內容",-1),J=Object(o["createVNode"])("hr",null,null,-1),z=Object(o["createVNode"])("h2",{class:"mb-3"},"相似產品",-1),E={class:"row mb-5"},G={key:0,class:"bg-danger text-white d-inline-block px-2 py-1"},H={class:"card-body d-flex flex-column justify-content-center"},K={class:"card-title h5"},Q={key:0,class:"h5 text-center py-1"},R={key:0,class:"h6 text-decoration-line-through"},W={key:1,class:"h4 text-danger fw-bold"},X={key:2,class:"h4 fw-bold"},Y=Object(o["createTextVNode"])(" 元 "),Z={class:"btn-group btn-group-sm"};Object(o["popScopeId"])();var ee=r((function(e,t,c,ee,te,ce){var oe=Object(o["resolveComponent"])("router-link"),re=Object(o["resolveComponent"])("Loading");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",s,[Object(o["createVNode"])("nav",i,[Object(o["createVNode"])("ol",n,[Object(o["createVNode"])("li",d,[Object(o["createVNode"])(oe,{to:"/"},{default:r((function(){return[l]})),_:1})]),Object(o["createVNode"])("li",b,[Object(o["createVNode"])(oe,{to:"/products/all"},{default:r((function(){return[u]})),_:1})]),Object(o["createVNode"])("li",p,[Object(o["createVNode"])(oe,{to:"/products/".concat(te.product.category)},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(te.product.category),1)]})),_:1},8,["to"])]),Object(o["createVNode"])("li",j,Object(o["toDisplayString"])(te.product.title),1)])])]),O,Object(o["createVNode"])("div",g,[Object(o["createVNode"])("div",h,[Object(o["createVNode"])("div",{class:"product__img",style:{backgroundImage:"url('".concat(te.product.imageUrl,"')")}},null,4)]),Object(o["createVNode"])("div",m,[Object(o["createVNode"])("h1",N,Object(o["toDisplayString"])(te.product.title),1),Object(o["createVNode"])("h5",V,[Object(o["createVNode"])("span",f,[Object(o["createVNode"])(oe,{class:"text-white text-decoration-none",to:"/products/".concat(te.product.category)},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(te.product.category),1)]})),_:1},8,["to"])]),te.product.options.sell_status?(Object(o["openBlock"])(),Object(o["createBlock"])("span",y,[Object(o["createVNode"])(oe,{class:"text-white text-decoration-none",to:"/products/暢銷商品"},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(te.product.options.sell_status),1)]})),_:1})])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("h2",v,[k,Object(o["createVNode"])("span",_,Object(o["toDisplayString"])(te.product.options.model),1)]),te.product.price===te.product.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",x,[S,Object(o["createVNode"])("span",B,Object(o["toDisplayString"])(e.$filters.currency(te.product.origin_price))+" 元",1)])):Object(o["createCommentVNode"])("",!0),te.product.price!==te.product.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",w,[C,Object(o["createVNode"])("span",D,Object(o["toDisplayString"])(e.$filters.currency(te.product.origin_price))+" 元 ",1)])):Object(o["createCommentVNode"])("",!0),te.product.price!==te.product.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",$,[P,Object(o["createVNode"])("span",L,Object(o["toDisplayString"])(e.$filters.currency(te.product.price)),1),T])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",I,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",class:"form-control text-center","onUpdate:modelValue":t[1]||(t[1]=function(e){return te.qty=e}),min:"1"},null,512),[[o["vModelText"],te.qty,void 0,{number:!0}]]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary btn-lg",onClick:t[2]||(t[2]=function(e){return ce.addCart(te.product.id,te.qty)})}," 加入購物車 ")])])]),Object(o["createVNode"])("div",M,[Object(o["createVNode"])("div",q,[U,Object(o["createVNode"])("p",A,Object(o["toDisplayString"])(te.product.description),1),F,Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(te.product.content),1)])]),J,z,Object(o["createVNode"])("div",E,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(te.similarProducts,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"col-md-6 col-lg-4 mb-4",key:t.id},[Object(o["createVNode"])("div",{class:"card",onClick:function(e){return ce.pushProductPage(t)}},[Object(o["createVNode"])("div",{class:"card__img position-relative",style:{backgroundImage:"url('".concat(t.imageUrl,"')")}},[t.options.sell_status?(Object(o["openBlock"])(),Object(o["createBlock"])("span",G,Object(o["toDisplayString"])(t.options.sell_status),1)):Object(o["createCommentVNode"])("",!0)],4),Object(o["createVNode"])("div",H,[Object(o["createVNode"])("h2",K,Object(o["toDisplayString"])(t.title),1),t.price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",Q,[t.price!=t.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])("span",R," $"+Object(o["toDisplayString"])(e.$filters.currency(t.origin_price)),1)):Object(o["createCommentVNode"])("",!0),t.price!=t.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])("span",W," $"+Object(o["toDisplayString"])(e.$filters.currency(t.price)),1)):Object(o["createCommentVNode"])("",!0),t.price==t.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])("span",X," $"+Object(o["toDisplayString"])(e.$filters.currency(t.price)),1)):Object(o["createCommentVNode"])("",!0),Y])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",Z,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-secondary",onClick:Object(o["withModifiers"])((function(e){return ce.addCart(t.id,1)}),["stop"]),disabled:te.loadingStatus.loadingItem===t.id||!t.is_enabled}," 加到購物車 ",8,["onClick","disabled"])])])],8,["onClick"])])})),128))])]),Object(o["createVNode"])(re,{active:te.isLoading},null,8,["active"])],64)})),te=(c("99af"),c("4de4"),c("d3b7"),c("6062"),c("3ca3"),c("ddb0"),c("159b"),c("37ca"));function ce(e){return Math.floor(Math.random()*e)}var oe={props:["id"],data:function(){return{product:{origin_price:0,price:0,options:{}},qty:1,isLoading:!1,products:[],similarProducts:[],loadingStatus:!1}},methods:{getProduct:function(e){var t=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/product/").concat(e);this.$http.get(c).then((function(e){t.isLoading=!1,e.data.success?(t.product=e.data.product,t.getProductsAll()):t.$httpMessageState(e,e.data.message)})).catch((function(e){console.dir(e)}))},addCart:function(e,t){var c=this;this.isLoading=!0;var o={product_id:e,qty:t},r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/cart");this.$http.post(r,{data:o}).then((function(e){c.isLoading=!1,c.$httpMessageState(e,e.data.message),e.data.success&&(c.qty=1,te["a"].emit("update-cartNum"))})).catch((function(e){console.dir(e)}))},getProductsAll:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/products/all");this.$http.get(t).then((function(t){e.isLoading=!1,t.data.success?(e.products=t.data.products,e.getSimilarProducts()):e.$httpMessageState(t,t.data.message)})).catch((function(e){console.dir(e)}))},getSimilarProducts:function(){for(var e=this,t=this.product,c=t.category,o=t.id,r=this.products.filter((function(e){return e.category===c&&e.id!==o})),a=new Set([]),s=r.length<3?r.length:3,i=0;a.size<s;i+1){var n=ce(r.length);a.add(n)}a.forEach((function(t){e.similarProducts.push(r[t])}))},pushProductPage:function(e){this.$router.push("/product/".concat(e.id))}},created:function(){this.getProduct(this.id)}};c("bf9b");oe.render=ee,oe.__scopeId="data-v-1e8fe802";t["default"]=oe}}]);
//# sourceMappingURL=chunk-5550f29f.6f06a1e8.js.map