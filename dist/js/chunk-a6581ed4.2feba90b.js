(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a6581ed4"],{"1dde":function(e,t,r){var c=r("d039"),o=r("b622"),a=r("2d00"),n=o("species");e.exports=function(e){return a>=51||!c((function(){var t=[],r=t.constructor={};return r[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,r){var c=r("861d"),o=r("e8b5"),a=r("b622"),n=a("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?c(r)&&(r=r[n],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8418:function(e,t,r){"use strict";var c=r("c04e"),o=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var n=c(t);n in e?o.f(e,n,a(0,r)):e[n]=r}},"8ef3":function(e,t,r){},9964:function(e,t,r){"use strict";r("8ef3")},"99af":function(e,t,r){"use strict";var c=r("23e7"),o=r("d039"),a=r("e8b5"),n=r("861d"),d=r("7b0b"),l=r("50c4"),s=r("8418"),i=r("65f0"),u=r("1dde"),b=r("b622"),p=r("2d00"),O=b("isConcatSpreadable"),j=9007199254740991,f="Maximum allowed index exceeded",h=p>=51||!o((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),N=u("concat"),V=function(e){if(!n(e))return!1;var t=e[O];return void 0!==t?!!t:a(e)},g=!h||!N;c({target:"Array",proto:!0,forced:g},{concat:function(e){var t,r,c,o,a,n=d(this),u=i(n,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(a=-1===t?n:arguments[t],V(a)){if(o=l(a.length),b+o>j)throw TypeError(f);for(r=0;r<o;r++,b++)r in a&&s(u,b,a[r])}else{if(b>=j)throw TypeError(f);s(u,b++,a)}return u.length=b,u}})},b0c0:function(e,t,r){var c=r("83ab"),o=r("9bf2").f,a=Function.prototype,n=a.toString,d=/^\s*function ([^ (]*)/,l="name";c&&!(l in a)&&o(a,l,{configurable:!0,get:function(){try{return n.call(this).match(d)[1]}catch(e){return""}}})},cc90:function(e,t,r){"use strict";r.r(t);r("b0c0");var c=r("7a23"),o=Object(c["withScopeId"])("data-v-71441494");Object(c["pushScopeId"])("data-v-71441494");var a=Object(c["createVNode"])("div",{class:"banner"},null,-1),n={class:"container"},d={class:"order py-5"},l=Object(c["createVNode"])("h1",{class:"text-center mb-5"},"付款完成",-1),s={class:"row justify-content-center"},i={class:"col-md-6 mb-3"},u=Object(c["createVNode"])("p",{class:"h5"},"謝謝您的選購，祝您露營愉快！",-1),b=Object(c["createVNode"])("button",{class:"btn btn-secondary mb-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"}," 查看明細 ",-1),p={class:"collapse",id:"collapseExample"},O={class:"table align-middle border border-1"},j=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("th",null,"品名"),Object(c["createVNode"])("th",null,"數量"),Object(c["createVNode"])("th",null,"金額")],-1),f={class:"text-end"},h=Object(c["createVNode"])("td",{colspan:"2",class:"text-end"},"總計",-1),N={class:"text-end"},V=Object(c["createVNode"])("h2",{class:"text-center bg-primary text-white py-2"},"客戶資訊",-1),g={class:"table border border-1"},m=Object(c["createVNode"])("th",null,"Email",-1),v=Object(c["createVNode"])("th",null,"姓名",-1),y=Object(c["createVNode"])("th",null,"收件人電話",-1),x=Object(c["createVNode"])("th",null,"收件人地址",-1),k=Object(c["createVNode"])("th",null,"付款時間",-1),w=Object(c["createVNode"])("th",null,"付款狀態",-1),S={key:0},B={key:1,class:"text-success"},D=Object(c["createVNode"])("i",{class:"bi bi-arrow-left me-2"},null,-1),A=Object(c["createTextVNode"])("繼續選購 "),I=Object(c["createVNode"])("div",{class:"col-md-6 d-none d-md-block"},[Object(c["createVNode"])("div",{class:"finished__img"})],-1);Object(c["popScopeId"])();var $=o((function(e,t,r,o,$,L){var _=Object(c["resolveComponent"])("Loading");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(_,{active:$.isLoading,"z-index":1060},null,8,["active"]),a,Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",d,[l,Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",i,[u,b,Object(c["createVNode"])("div",p,[Object(c["createVNode"])("table",O,[j,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])($.order.products,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:e.id},[Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.product.title),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.qty)+" "+Object(c["toDisplayString"])(e.product.unit),1),Object(c["createVNode"])("td",f,Object(c["toDisplayString"])(e.final_total),1)])})),128))]),Object(c["createVNode"])("tfoot",null,[Object(c["createVNode"])("tr",null,[h,Object(c["createVNode"])("td",N,Object(c["toDisplayString"])($.order.total),1)])])])]),V,Object(c["createVNode"])("table",g,[Object(c["createVNode"])("tbody",null,[Object(c["createVNode"])("tr",null,[m,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])($.order.user.email),1)]),Object(c["createVNode"])("tr",null,[v,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])($.order.user.name),1)]),Object(c["createVNode"])("tr",null,[y,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])($.order.user.tel),1)]),Object(c["createVNode"])("tr",null,[x,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])($.order.user.address),1)]),Object(c["createVNode"])("tr",null,[k,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.$filters.dateTime($.order.paid_date)),1)]),Object(c["createVNode"])("tr",null,[w,Object(c["createVNode"])("td",null,[$.order.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("span",B,"付款完成")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",S,"尚未付款"))])])])]),Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-block",onClick:t[1]||(t[1]=function(t){return e.$router.push("/products/all")})},[D,A])]),I])])])],64)})),L=(r("99af"),{data:function(){return{order:{user:{}},orderId:"",isLoading:!1,hasOrder:!1}},methods:{getOrder:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("peter1024","/order/").concat(this.orderId);this.$http.get(t).then((function(t){e.isLoading=!1,t.data.success?null===t.data.order?(e.errorAlert("查無訂單"),e.$router.push("/"),e.hasOrder=!1,e.order={user:{}}):(e.hasOrder=!0,e.order=t.data.order):e.$httpMessageState(t,t.data.message)})).catch((function(t){console.log("error",t.response,t.request,t.message),e.isLoading=!1,e.emitter.emit("push-message",{title:"連線錯誤",style:"danger",content:t.message})}))},successAlert:function(e){this.$swal.fire({icon:"success",title:e,showConfirmButton:!1,timer:1500})},errorAlert:function(e){this.$swal.fire({icon:"error",title:e,showConfirmButton:!1,timer:1500})}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}});r("9964");L.render=$,L.__scopeId="data-v-71441494";t["default"]=L},e8b5:function(e,t,r){var c=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==c(e)}}}]);
//# sourceMappingURL=chunk-a6581ed4.2feba90b.js.map